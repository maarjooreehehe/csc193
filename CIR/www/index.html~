<!DOCTYPE html>

<html>
    <head>
  
	  <link href="content/main.css" rel="stylesheet" />
	  <link href="content/jquery.mobile-1.1.0.min.css" rel="stylesheet" type="text/css" />
	  <link href="content/jquery.jqplot.css" rel="stylesheet" type="text/css" /> 
  
	  <link href="content/visualize.css" rel="stylesheet" />
	  <link href="content/visualize-light.css" rel="stylesheet" />
  
  
	  <script src="scripts/jquery-1.7.1.min.js" type="text/javascript"></script>
	  <script src="scripts/jquery.mobile-1.1.0.min.js" type="text/javascript"></script>
<!-- <script src="scripts/jquery.mobile-1.3.2.min.css" type="text/javascript"></script>-->
	  <script src="scripts/modernizr-1.6.min.js" type="text/javascript"></script>
	  
		<script src="scripts/jquery.jqplot.min.js" type="text/javascript"></script>
		<script src="scripts/jqplot.barRenderer.min.js" type="text/javascript"></script>
		<script src="scripts/jqplot.categoryAxisRenderer.min.js" type="text/javascript"></script>
	
		<script src="scripts/app.js" type="text/javascript"></script>
	
		<script src="scripts/visualize.jQuery.js" type="text/javascript"></script>
		<script src="scripts/example.js" type="text/javascript"></script>
	

	  <style type="text/css">
		.myChart {
			width: 300px;
			height: 200px;
		}
		
		
		#toast{
		position: fixed;
		bottom: 200px;
		left: 50%;
		width: 200px;
		margin-left: -100px;
		border: 1px solid #666;
		background-color: black;
		padding: 10px 0 ;
		text-align:center;
		font-size: 200%;
		font-family:"Arial";
		color: white;
		opacity: .4;
		

		-webkit-transition: opacity 0.5s ease-out; /* Saf3.2+, Chrome */
		-moz-transition: opacity 0.5s ease-out; /* FF4+ */
		-ms-transition: opacity 0.5s ease-out; /* IE10? */
		-o-transition: opacity 0.5s ease-out; /* Opera 10.5+ */
		transition: opacity 0.5s ease-out;
		}
	
		/* for the background image */

		#bg { position: fixed; top: 0; left: 0; }
		.bgwidth { width: 100%; }
		.bgheight { height: 100%; }
		#bg {
  position: fixed; 
  top: 0; 
  left: 0; 

  /* Preserve aspet ratio */
  min-width: 100%;
  min-height: 100%;
}
		android:src="@drawable/bg.jpg"
		android:scaleType = "centerCrop"
		    
		
		/* for the footer */
		
		#footer{width: 100%;
		background-color: #fb7b4b;
		opacity: 0.8; // or use rgba() where a opacity.
		}

		.footer:hover{
		background-color: #ed551c;
		opacity: 1.8;
		}
		
		.footer:active{
		color: #0f0;
		}

table,th,td
{
border:1px solid black;
border-collapse:collapse;
}

	</style>

        <title>CIR</title>

	<script type="text/javascript">
	
	// for the bg image
	
	$(window).load(function() {    

	var theWindow        = $(window),
	    $bg              = $("#bg"),
	    aspectRatio      = $bg.width() / $bg.height();
	    			    		
	function resizeBg() {
		
		if ( (theWindow.width() / theWindow.height()) < aspectRatio ) {
		    $bg
		    	.removeClass()
		    	.addClass('bgheight');
		} else {
		    $bg
		    	.removeClass()
		    	.addClass('bgwidth');
		}
					
	}
	                   			
	theWindow.resize(resizeBg).trigger("resize");

	});

        $(document).ready(function () {
           
		   if (Modernizr.localstorage) {
                $("#detectionSpan").html("Your browser supports local storage");
            } 

            showKeys();
        });

        // show the keys currently held in the local and session storage
        function showKeys() {
            if (Modernizr.localstorage) {
                showStorageKeys("local", "#localTable");
            }
        }

        // show the keys currently held in the specified type of storage in the specified table
        function showStorageKeys(type, table) {
            // get the specified type of storage, i.e. local or session
            var storage = window[type + 'Storage'];

            // remove the rows in the specified table before we start
            $(table + " > tbody > tr").remove();

            // loop through the existing keys in the storage and add them to the TBODY element as rows
            for (var i = 0; i < storage.length; i++) {
                var key = storage.key(i);
                var value = storage.getItem(key);

                $(table + " > tbody:last")
                    .append("<tr><td>" + key + "</td>" +
                            "<td>" + value + "</td>" + 
                            "<td><input type='submit' value='Remove' onclick='removeItem(\"" + type + "\", \"" + key + "\")'/></td></tr>");
            }
        }

	 // adds a new key to local storage
	  	function setKey() {
			members = $("#members").val();
			quantity = $("#quantity").val();
			volumeUnit = $("#volumeUnit").val();
			calorieVolumeUnit = $("#calorieVolumeUnit").val();
			caloriePerVolume = $("#caloriePerVolume").val();
			percentage = $("#percentage").val();
			
			if(volumeUnit==2){
				var volume=( $("#volume").val() * 1000);
			}
			else if(volumeUnit==3){
				volume=($("#volume").val()  * 30);
			}
			else{
				volume= $("#volume").val();
				
			}
			
			if(calorieVolumeUnit==2){
				calorieMl = ($("#calorieMl").val() * 1000);
			}
			else if(calorieVolumeUnit==3){
				calorieMl=($("#calorieMl").val() * 30);
			}
			else{
				calorieMl=$("#calorieMl").val();
			}
			
			totalCalorie = parseInt( ((caloriePerVolume/calorieMl) * ((quantity*volume)/members)),10 );
			burntCalorie = parseInt( (totalCalorie - ((totalCalorie*percentage)/100)) ,10);
			water = Math.round(((((totalCalorie-burntCalorie)*1000)/33.5)/240));
			
			waterPerWeek = water * 7;
			
			var key = totalCalorie;
			var value = burntCalorie;
			var myDate=new Date();
			
			document.getElementById("result").innerHTML="You have a calorie of: "+ totalCalorie + ",  to lessen your calorie into " + burntCalorie + ",   you must drink " + water + "   glasses of cold water; " + waterPerWeek + " glasses of cold water per week<p></p>" + myDate;
		
		    if (Modernizr.localstorage) {
		    localStorage.setItem(key, value);
			drawToast("Item saved");
		    }
		    showKeys();
		}

	function hideToast(){
		var alert = document.getElementById("toast");
		alert.style.opacity = 0;
		clearInterval(intervalCounter);
	}
	
	function drawToast(message){
		
		var alert = document.getElementById("toast");
		
		if (alert == null){
			var toastHTML = '<div id="toast">' + message + '</div>';
			document.body.insertAdjacentHTML('beforeEnd', toastHTML);
		}
		else{
			alert.style.opacity = .9;
		}
		
		
		intervalCounter = setInterval("hideToast()", 1000);
	}

 	function clearLocalKeys() {
            clearKeys("local");
        }

    

        // clear all the held keys in the specified type of storage
        function clearKeys(type) {
            // get the specified type of storage
            var storage = window[type + 'Storage'];

            // clear the keys
            storage.clear();

            showKeys();
        }

        // removes an item with the specified key from the storage
        function removeItem(type, key) {
            // get the specified local storage
            var storage = window[type + 'Storage'];
            storage.removeItem(key);
            showKeys();
        }
    
     
    </script>

<!--POP UP BOX HERE--->

	
	<style type="text/css">
/* popup_box DIV-Styles*/
#popup_box { 
	display:none; /* Hide the DIV */
	position:fixed;  
	_position:absolute; /* hack for internet explorer 6 */  
	width: 0 auto;
	height: 0 auto;
	background:#FFFFFF;  
	center: 0 auto;
	top: 150px;
	z-index:100; /* Layering ( on-top of others), if you have lots of layers: I just maximized, you can change it yourself */
	margin-left: 15px;  
	
	/* additional features, can be omitted */
	border:2px solid #ff0000;  	
	padding:15px;  
	font-size:10px;  
	-moz-box-shadow: 0 0 5px #ff0000;
	-webkit-box-shadow: 0 0 5px #ff0000;
	box-shadow: 0 0 5px #ff0000;
	
}

#container {
	background: #d2d2d2; /*Sample*/
	width:100%;
	height:100%;
}

a{  
cursor: pointer;  
text-decoration:none;  
} 

/* This is for the positioning of the Close Link */
#popupBoxClose {
	font-size:20px;  
	line-height:15px;  
	left:5px;  
	top:5px;  
	position:absolute;  
	color:#6fa5e2;  
	font-weight:50;  	
}
</style>

<script type="text/javascript">
	
	$(document).ready( function() {
	
		// When site loaded, load the Popupbox First
		
		$('#popupBoxOpen').click( function() {			
			loadPopupBox();
		});
		
		$('#popupBoxClose').click( function() {			
			unloadPopupBox();
		});
		
		$('#container').click( function() {
			unloadPopupBox();
		});

		function unloadPopupBox() {	// TO Unload the Popupbox
			$('#popup_box').fadeOut("slow");
			$("#container").css({ // this is just for style		
				"opacity": "1"  
			}); 
		}	
		
		function loadPopupBox() {	// To Load the Popupbox
			$('#popup_box').fadeIn("slow");
			$("#container").css({ // this is just for style
				"opacity": "0.3"  
			}); 		
		}
		
		
	});
</script>

<!-- For Forcing The app to enter only numeric numbers-->

<script type="text/javascript">
         $(document).ready(function () {
             $(".numberinput").forceNumeric();
         });


         // forceNumeric() plug-in implementation
         jQuery.fn.forceNumeric = function () {

             return this.each(function () {
                 $(this).keydown(function (e) {
                     var key = e.which || e.keyCode;

                     if (!e.shiftKey && !e.altKey && !e.ctrlKey &&
                     // numbers   
                         key >= 48 && key <= 57 ||
                     // Numeric keypad
                         key >= 96 && key <= 105 ||
                     // comma, period and minus, . on keypad
                        key == 190 || key == 188 || key == 109 || key == 110 ||
                     // Backspace and Tab and Enter
                        key == 8 || key == 9 || key == 13 ||
                     // Home and End
                        key == 35 || key == 36 ||
                     // left and right arrows
                        key == 37 || key == 39 ||
                     // Del and Ins
                        key == 46 || key == 45)
                         return true;

                     return false;
                 });
             });
         }
     </script>
	 

 </head>

    <body>			


		
		<div id="page1" data-role="page">

				<header data-role="header" data-position="fixed">
		
					<h1>CALORIE INTAKE REMINDER</h1>
		
				</header>
				<section data-role="content">
					 <ul data-role="listview" data-inset="true" data-shadow="true">
						<li data-role="list-divider" style="text-align: center;">Select Task</li>
						<li><a href="#viewRecords" data-transition="slidedown" data-rel="dialog">View Records</a></li>
						<li><a href="#newCalorie" data-transition="pop">New</a></li>
						<li><a href="#manual" data-transition="slidedown" data-rel="dialog">Manual</a></li>
						

						<li><a href="share.html" rel="external">Sharing</a></li>
				
				<img src="img/bg.jpg" id="bg" alt="" />
				
				<section data-role="content">
				</section>


				
				<div data-role="footer" data-position="fixed" id="footer" data-theme="footer">      
					<div data-id="mainTab" data-role="navbar">
						<ul id="footer_tabs">
							<li><a href="index.html" class="ui-state-persist ui-btn-active" rel="external" data-icon="home" data-transition="pop">Home</a></li>
							<li><a href="#newCalorie" data-transition="pop" data-icon="edit">New</a></li>
							<li><a href="#viewRecords" data-transition="pop" data-icon="grid">Records</a></li>
							<li><a href="#" data-transition="pop" data-icon="arrow-r">Settings</a></li>
							<li><a href="#about" data-transition="pop" data-rel ="dialog" data-icon="info">About</a></li>
						</ul>
            
					</div>
				</div>
			
		</div>
			
			
		<!--View Records Pop-up-->
		<div id="viewRecords" data-role="page">
				 <div data-role="header">
					<h1>View Records</h1>
				  </div>
				<h1 style="color:white;">Display:</h1>   
				<h2><a href="#localStorageDiv" data-role="button">Table</a></h2>
				<h2><a href="#localStorageDiv" data-role="button">Graph</a></h2>
				  
				<div data-role="footer">
					<p></p>
				</div>

		</div>
			
	
		
		
	
	<div id="localStorageDiv" data-role="page" data-rockncoder-jspage="managePieChart">
		<header data-role="header" data-position="fixed">
		<a href="index.html" rel="external" data-icon="home" data-transition="pop">HOME</a>
			<h1>DATA TABLE</h1>
		<a href="#pageDataGraph" data-icon="next" data-theme="b" data-transition="pop">NEXT</a>
		</header>
		<a href="#confirmClear" data-role="button" data-transition="slidedown" data-rel="dialog">Clear Entries</a>
	
		 <table id="localTable" border="1">
            <thead>
                <tr>
                    <th>Old Calorie</th>
                    <th>New Calorie</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
            </tbody>
			
        </table>
	<input type="button" value="Update Chart" onClick="window.location.reload()">

        </div>
	
	<div id="confirmClear" data-role="page" >
	 
		 <div data-role="header">
		    <h1>Confirm</h1>
		  </div>
	   	 <h1 style="color:white;">Are you sure you want to clear all contents?</h1>   
	  	<h2><a href="#localStorageDiv" data-role="button" data-icon="check" onclick="clearLocalKeys()">Yes</a></h2>
	    	<h2><a href="#localStorageDiv" data-role="button" data-icon="delete">Cancel</a></h2>
		  
		<div data-role="footer">
		<p></p>
		  </div>


	</div> 
		
	<!--database try-->

	<script src="js/database.js" type="text/javascript"></script>
	   <script type="text/javascript" src="cordova.js"></script>
          


	<script type="text/javascript">
            app.initialize();
        </script>

 	<!--New CIR Menu-->
 	<div id="newCalorie" class="app" data-role="page">
        
      	<header data-role="header" data-position="fixed">
		<a href="index.html" rel="external" data-icon="home" data-transition="pop">HOME</a>
			<h1></h1>
	</header>
		
		<p ><a href="#" onclick="viewBeverageRecords();" data-role="button">View Records</a></p>
		<p ><a href="#addBeverage" data-role="button">Add Beverage</a></p>
        </div>
	<!--End: New CIR Menu-->


       <!--View Beverage List-->
        <div data-role="page" id="beverageList" data-add-back-btn="true">
            <div data-role="header">
                <h1>Beverage List</h1>
            </div>
            <div data-role="content">
                <div id="output">
                    
                    </div>
                    
                    <ul data-role="listview" id="resultList">
                    
                    </ul>
                </div>
                
            </div>
	<!--End: View Beverage List -->

	<!--Add Beverage-->
	<div id="addBeverage" data-role="page" >
			<header data-role="header" data-position="fixed">
				<a href="index.html" rel="external" data-icon="home" data-transition="pop">Home</a>
				<h1>New Beverage</h1>
			</header>
			
		
			  <form method="POST" onsubmit="return addBeverage()" id="addBeverageForm" data-ajax="false">
				<input type="text" name="beverageName" class="" placeholder="Beverage Name" data-mini="true" />
				
				
				<div>
				<label for="Calorie Per Volume">Calorie Per Volume:</label>
				<input type="text" name="caloriePerVolume" class="numberinput" placeholder="Enter calorie"  data-mini="true" />
				<input type="text" name="calorieVolume" class="numberinput" placeholder="Enter volume"  data-mini="true"/>
				<select name="calorieVolumeUnit" data-mini="true"/>
				<option value=1>ml</option>
				<option value=2>L</option>
				<option value=3>oz</option>
				</select>
				</div>
				
	
 			<input type="submit" value="Submit" data-theme="b">
                             
			</form>
	
		</div>
	<!--End: Add Beverage-->

	<!--Calculate Calorie-->
	<div data-role="page" id="inputCalorie" data-add-back-btn="true">
            <div data-role="header">
                <h1>Know Your Calories</h1>
            </div>
            <div data-role="content">
               
		
            </div>


		  <form method="POST" onsubmit="return calculateCalories()"  data-ajax="false">
				Beverage Name:
				<input type="text" name="beverageName" id="beverage" data-mini="true" />
				<input type="text" name="caloriePerVolume" id="caloriePerVolume" data-mini="true" />
				<input type="text" name="calorieVolume" id="calorieVolume" data-mini="true" />
				
				<input type="text" name="members" class="numberinput" placeholder="Group Members" data-mini="true" />
	
				<input type="text" name="quantity" class="numberinput" placeholder="Quantity"  data-mini="true" />
	
				<input type="text" name="volume" class="numberinput" placeholder="volume"  data-mini="true" />
			
				<select name="volumeUnit" data-mini="true"/>
				<option value=1>ml</option>
				<option value=2>L</option>
				<option value=3>oz</option>
				</select>

 			<input type="submit" value="Calculate" data-theme="b">
                             
			</form>
	</div>
	<!--End: Calculate Calorie-->

<!--end-->

<!--MANUAL CONTENT-->
		<div id="manual" data-role = "page">
			
			
			<header style="background-color:#FFA500;">
			<center><h1 style="margin-bottom:0;">How to use?</h1></center>
			</header>

			<div id="" style="background-color:#FFD700;height:100px;width:300px;float:left;">

	
			
			<h2><a href="#intakeCal" data-transition="slidedown" data-rel="dialog" data-icon="arrow-r">New Record</a></h2>
			<h2><a href="#viewRecord" data-transition="slidedown" data-rel="dialog">View Records</a></h2>
			<h2><a href="#DataGraph" data-transition="slidedown" data-rel ="dialog">Data Graph</a></h2>
			</h2> 
		  	 </div> 
		
			<div id="" style="background-color:transparent;clear:both;text-align:center;">
				<a href="index.html" data-role="button" data-icon="check" onclick="clearLocalKeys()">Home</a></div>
		
		
		</div>
		
		
			
		<div id = "intakeCal" data-role = "page">
			
			<header style="background-color:#FFA500;">
			<center><h1 style="margin-bottom:0;">How to use?</h1></center>
			</header>
			

			<div id="" style="background-color:#FFD700;height:100px;width:300px;float:left;">
			
			   <h2><a href="#intakeCal" data-transition="slidedown" data-rel="dialog"><FONT COLOR="######">New Record</FONT></a></h2>
			   <h2><a href="#viewRecord" data-transition="slidedown" data-rel="dialog">View Records</a></h2>
			   <h2><a href="#DataGraph" data-transition="slidedown" data-rel="dialog">Data Graph</a></h2>	
			       
			
			</div>

			<div id="" style="background-color:#EEEEEE;height:300px;width:300px;float:left;">
				<center><h2>Provide the required data such as number<br> 
				    of person who joined the drinking session,<br>
				    number of beer they drink, volume of the<br>
	 			    beer, and percentage of calorie the he<br>
				    wants to burn.Press the button "Save".<br>
				  <p><img border="0" src="img/UserDataInput.png" width="290" height="150"></p>
				</center></h2>

			
			</div>	
			<div id="" style="background-color:transparent;clear:both;text-align:center;">
				<a href="index.html" data-role="button" data-icon="check" onclick="clearLocalKeys()">Home</a></div>
			
			
	
				
		  </div>
			

		
		<div id="viewRecord" data-role="page">

			<header style="background-color:#FFA500;">
			<center><h1 style="margin-bottom:0;">How to use?</h1></center>
			</header>
			
			
			<div id="" style="background-color:#FFD700;height:100px;width:300px;float:left;">
			    <h2><a href="#intakeCal" data-transition="slidedown" data-rel = "dialog">New Record</a></h2>
			    <h2><a href="#viewRecord" data-transition="slidedown" data-rel = "dialog"><FONT COLOR="######">View Records</FONT></a></h2>
			    <h2><a href="#DataGraph" data-transition="slidedown" data-rel = "dialog">Data Graph</a></h2>	
			        
			
			</div>
			
			<div id="" style="background-color:#EEEEEE;height:200px;width:300px;float:left;">
			<center><h2>The user can see his previous calories<br>
				to the new one, either in a table form or <br>
				graphical form.<br>
			 <p><img border="0" src="img/OldNewCalorie.png" width="290" height="100"></p>
			</center></h2>
			</div>
			
			<div id="" style="background-color:transparent;clear:both;text-align:center;">
				<a href="index.html" data-role="button" data-icon="check" onclick="clearLocalKeys()">Home</a></div>
		</div>
		
		<div id="DataGraph" data-role="page">
			
			<header style="background-color:#FFA500;">
			<center><h1 style="margin-bottom:0;">How to use?</h1></center>
			</header>
			<div id="" style="background-color:#FFD700;height:100px;width:300px;float:left;">
			
			    <h2><a href="#intakeCal" data-transition="slidedown" data-rel ="dialog">New Record</a></h2>
			    <h2><a href="#viewRecord" data-transition="slidedown" data-rel = "dialog">View Records</a></h2>
			    <h2><a href="#DataGraph" data-transition="slidedown" data-rel="dialog"><FONT COLOR="######">Data Graph</FONT></a></h2>	
			   
			
			</div>
			

			<div id="" style="background-color:#EEEEEE;height:220px;width:300px;float:left;">
			<center><h2>Records of the user will be shown in a graph form.<br></center></h2>
			<p><img border="0" src="img/Output.png" width="290" height="150"></p>			
			</div>
			
			<div id="" style="background-color:transparent;clear:both;text-align:center;">
				<a href="index.html" data-role="button" data-icon="check" onclick="clearLocalKeys()">Home</a></div>	
			
		</div>
	
		<div id="about" data-role="page">
			
			
			<header style="background-color:#FFA500;">
			<center><h1 style="margin-bottom:0;">About</h1></center>
			</header>
			

			<div id="" style="background-color:#FFD700;height:400px;width:300px;float:left;">
			  
				<center><h2 style = "color: red">CALORIE INTAKE REMINDER APPLICATION</h2></center>
				<center><h3>is a simple android application.
					that lets the user be reminded of
					his calorie intake with Facebook
					Integration. For now, this app is
					limited for beverage only, but for
					future use this app can be developed
					further to calculate other foods.</h3>
				</center>
				<center><h2 style = "color: blue">Does drinking cold water burn calories?</h2></center>
				<center><h3>Our bodies burn calories by warming<b>
					    the ice cold water to our 
					    internal body temperature. Roger Clemens,
					    DrPH (doctor of public health) in nutrition and biological chemistry, and
					    associate director of regulatory science at the USC School of Pharmacy.
					</h3>
			
		  	 </div> 
				
			<div id="" style="background-color:transparent;clear:both;text-align:center;">
				<a href="index.html" data-role="button" data-icon="check" onclick="clearLocalKeys()">Home</a></div>
		
		
		</div>

	
		


    </body>
</html>
