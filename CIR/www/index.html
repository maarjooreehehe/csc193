<!DOCTYPE html>

<html>
    <head>
	
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />

        <link rel="stylesheet" type="text/css" href="css/index.css" />

        <title>CIR</title>

	<script type="text/javascript">

        $(document).ready(function () {
           
		   if (Modernizr.localstorage) {
                $("#detectionSpan").html("Your browser supports local storage");
            } 

            showKeys();
        });

        // show the keys currently held in the local and session storage
        function showKeys() {
            if (Modernizr.localstorage) {
                showStorageKeys("local", "#localTable");
            }

        }

        // show the keys currently held in the specified type of storage in the specified table
        function showStorageKeys(type, table) {
            // get the specified type of storage, i.e. local or session
            var storage = window[type + 'Storage'];

            // remove the rows in the specified table before we start
            $(table + " > tbody > tr").remove();

            // loop through the existing keys in the storage and add them to the TBODY element as rows
            for (var i = 0; i < storage.length; i++) {
                var key = storage.key(i);
                var value = storage.getItem(key);

                $(table + " > tbody:last")
                    .append("<tr><td>" + key + "</td>" +
                            "<td>" + value + "</td>" + 
                            "<td><input type='submit' value='Remove' onclick='removeItem(\"" + type + "\", \"" + key + "\")'/></td></tr>");
            }
        }

 	function clearLocalKeys() {
            clearKeys("local");
        }

    

        // clear all the held keys in the specified type of storage
        function clearKeys(type) {
            // get the specified type of storage
            var storage = window[type + 'Storage'];

            // clear the keys
            storage.clear();

            showKeys();
        }

        // removes an item with the specified key from the storage
        function removeItem(type, key) {
            // get the specified local storage
            var storage = window[type + 'Storage'];

            storage.removeItem(key);

            showKeys();
        }
    
      
    </script>

    </head>
    <body>

		
		<div id="page1" data-role="page">
				<header data-role="header" data-position="fixed">
		
					<h1>CALORIE INTAKE REMINDER</h1>
		
				</header>
				<section data-role="content">
					<ul data-role="listview" data-inset="true" data-shadow="true">
						<li data-role="list-divider" style="text-align: center;">Select Task</li>
						<li><a href="#pageBarChart">Data Input</a></li>
						<li><a href="#localStorageDiv">Data Table</a></li>
						<li><a href="#pageDataGraph">Data Graph</a></li>
				
					</ul>
				</section>
		
			</div>
		

        <script type="text/javascript" src="phonegap.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript">
            app.initialize();
        </script>
    </body>
</html>
